// src/utils/vulnerabilityMapping.ts

/**
 * Gets the CVI category label ('Low', 'Medium', 'High') based on a numerical CVI score.
 * Updated to 5 ranks: Very Low, Low, Moderate, High, Very High
 *
 * @param score The numerical CVI score.
 * @returns The corresponding category label.
 */
export const getCviCategory = (score: number | undefined | null): string => {
  if (score === undefined || score === null || isNaN(score)) return 'No Data';

  const rank = Math.round(score); // Use rounded score to determine rank category
  if (rank <= 1) return 'Very Low'; // Rank 1
  if (rank === 2) return 'Low';     // Rank 2
  if (rank === 3) return 'Moderate';// Rank 3
  if (rank === 4) return 'High';    // Rank 4
  if (rank >= 5) return 'Very High'; // Rank 5
  return 'No Data'; // Fallback
};